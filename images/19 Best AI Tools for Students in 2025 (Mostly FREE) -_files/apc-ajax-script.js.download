jQuery(document).ready(function(){jQuery(".searchcompare").on('change',function(){add_url_parameter();var data=$('.searchcompare').val();jQuery.ajax({type:"post",beforeSend:function(){jQuery('.apc-ajax-multi table').css('opacity',"0.5")},dataType:"json",url:apc_ajax.ajax_url,data:{action:'apc_get_comparison_data',data:data},success:function(response){jQuery('.apc-ajax-multi').html(response.data);var el=document.querySelector('.multi-comparison');var scrollPosition=document.documentElement.scrollTop||document.body.scrollTop;var thead=el.querySelector('thead');var offset=el.getBoundingClientRect();window.addEventListener('scroll',function(event){var rect=el.getBoundingClientRect();scrollPosition=document.documentElement.scrollTop||document.body.scrollTop;if(rect.top<thead.offsetHeight){thead.style.width=rect.width+'px';thead.classList.add('thead--is-fixed')}else{thead.classList.remove('thead--is-fixed')}});jQuery('.apc-ajax-multi table').css('opacity',"1")}})});function add_url_parameter(){var $el=jQuery(".searchcompare");var str='';$el.find('option:selected').each(function(){if(str==''){str=jQuery(this).text()}else{str=str.concat(",",jQuery(this).text())}});var refresh=window.location.protocol+"//"+window.location.host+window.location.pathname+'?hostings='+str;window.history.pushState({path:refresh},'',refresh)}})